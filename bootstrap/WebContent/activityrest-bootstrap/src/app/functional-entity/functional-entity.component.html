<div class="main">
  <div class="model">
    <h2>Command line tool</h2>
    <label
      >Name:
      <input [(ngModel)]="commandLineTool.name" placeholder="name" />
    </label>
    <label
      >Remark:
      <input [(ngModel)]="commandLineTool.remark" placeholder="remark" />
    </label>

    <h3>Command line template</h3>
    <div
      *ngFor="let t of commandLineTool.commandLineTemplate"
      class="command-line-entry"
    >
      <button (click)="showDetails(t)">
        {{ t.getExample(this.activity) }}
      </button>
      <button (click)="moveEntryListUp(t)">
        <fa-icon [icon]="iconUp"></fa-icon>
      </button>
      <button (click)="moveEntryListDown(t)">
        <fa-icon [icon]="iconDown"></fa-icon>
      </button>
      <button (click)="remove(t)">
        <fa-icon [icon]="iconRemove"></fa-icon>
      </button>
    </div>

    <div>
      <button (click)="addLiteralCommandLineEntry()">
        Add literal command line entry
      </button>
      <button (click)="addParameterCommandLineEntry()">
        Add parameter command line entry
      </button>
      <button (click)="addDatasetCommandLineEntry()">
        Add dataset command line entry
      </button>
    </div>

    <h3>Exit codes:</h3>
    <div *ngFor="let e of commandLineTool.exitCodes">
      <button (click)="this.showDetails(e)">
        {{ e.code }} ({{ e.status }})
      </button>
      <button (click)="removeExitCode(e)">
        <fa-icon [icon]="iconRemove"></fa-icon>
      </button>
    </div>
    <button (click)="addExitCode()">
      <fa-icon [icon]="iconAdd"></fa-icon>
    </button>

    <h3>Stream redirections</h3>
    <label
      >Standard input stream:
      <select [(ngModel)]="commandLineTool.standardInputStream">
        <option *ngFor="let d of activity.inputDatasets" [ngValue]="d">
          {{ d.name }}
        </option>
      </select>
    </label>

    <label
      >Standard output stream:
      <select [(ngModel)]="commandLineTool.standardOutputStream">
        <option *ngFor="let d of activity.outputDatasets" [ngValue]="d">
          {{ d.name }}
        </option>
      </select>
    </label>

    <label
      >Standard error stream:
      <select [(ngModel)]="commandLineTool.standardErrorStream">
        <option *ngFor="let d of activity.outputDatasets" [ngValue]="d">
          {{ d.name }}
        </option>
      </select>
    </label>
  </div>
  <app-functional-entity-detail
    [detailedComponent]="this.detail"
    [activity]="this.activity"
    class="detail"
  ></app-functional-entity-detail>
</div>
